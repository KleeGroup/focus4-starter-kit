(self.webpackChunkfocus4_starter_kit=self.webpackChunkfocus4_starter_kit||[]).push([[641],{80478:function(e,i,n){"use strict";var t=n(60352),o=n.n(t)()(!1);o.push([e.id,".index_layout__25wEL,\n.index_popin__4LRS1 {\n    background: rgb(243, 229, 245);\n}\n",""]),o.locals={layout:"index_layout__25wEL",popin:"index_popin__4LRS1"},i.Z=o},55922:function(e,i,n){"use strict";var t=n(60352),o=n.n(t)()(!1);o.push([e.id,".index_salut__Jz-95 {\n    margin-left: 10px;\n    font-size: 16px;\n}\n",""]),o.locals={salut:"index_salut__Jz-95"},i.Z=o},54182:function(e,i,n){"use strict";var t=n(60352),o=n.n(t)()(!1);o.push([e.id,".list_line__1qL19:not(:last-child) {\n    margin-bottom: 4px;\n}\n",""]),o.locals={line:"list_line__1qL19"},i.Z=o},91641:function(e,i,n){"use strict";n.r(i);var t=n(33940),o=n(67557),r=n(52263),a=n(25125),l=n(73961),d=n(83441),c=n(50265),u=(0,c.LO)({canDeploy:!0});function s(e){var i=e.summary,n=e.cartridge,l=e.barRight;return(0,a.SZ)((function(){return(0,o.jsxs)(r.Pr,(0,t.pi)({canDeploy:u.canDeploy},{children:[(0,o.jsxs)(r.yV,{children:[(0,o.jsx)(r.SK,{children:i},void 0),(0,o.jsx)(r.h5,{children:l},void 0)]},void 0),(0,o.jsx)(r.oB,{children:n},void 0),(0,o.jsx)(r.kP,{primary:[{onClick:function(){return u.canDeploy=!u.canDeploy},icon:"radio_button_checked",tooltip:"Toggle le canDeploy"}]},void 0)]}),void 0)}))}var m=n(59639),p=n(44084),v=n(96924),f=n(36105),h=n.n(f),y=n(85803),b=n.n(y);n(63377),h().locale("fr"),b().locale("fr");var x=(0,p.nw)({type:"boolean"}),S=(0,p.nw)({type:"string",inputProps:{multiline:!0,rows:4,maxLength:3e3},validator:{type:"string",maxLength:3e3}}),g=(0,p.nw)({type:"string",inputProps:{maxLength:10},validator:{type:"string",maxLength:10}}),j=(0,p.nw)({type:"string",validator:{type:"date"},InputComponent:p.U7,displayFormatter:function(e){return e?h()(e,h().ISO_8601).format("DD/MM/YYYY"):""},inputProps:{inputFormat:"DD/MM/YYYY"}}),C=(0,p.nw)({type:"number"}),R=(0,p.nw)({type:"string",validator:{type:"email"}}),L=(0,p.nw)({type:"string",inputProps:{maxLength:100},validator:{type:"string",maxLength:100}}),P=(0,p.nw)({type:"number",validator:{type:"number",maxDecimals:2,errorMessage:"domain.validation.montant"},displayFormatter:function(e){return e&&b()(e).format("0,0.00 $")||""},inputProps:{hasThousandsSeparator:!0,maxDecimals:2}});function E(e){return new Promise((function(i){setTimeout((function(){i({id:e,denominationSociale:"Ma structure "+(e||""),capitalSocial:14503.32,isBeneficiaireEffectif:!0,dateDemande:new Date(2016,4,23).toISOString(),statutJuridiqueCode:"SARL",adresse:{id:1,ligne1:"13 rue",codePostal:"75016",ville:"Paris"}})}),250)}))}function w(e){return new Promise((function(i){setTimeout((function(){i(e)}),250)}))}function _(){return new Promise((function(e){setTimeout((function(){e([{civiliteCode:"MME",email:"contact1@contact.com",id:1,nom:"Contact 2",prenom:"Yolo 3"},{civiliteCode:"M",email:"contact2@contact.com",id:2,nom:"Contact 3",prenom:"Yolo 1"},{civiliteCode:"MME",email:"contact3@contact.com",id:3,nom:"Contact 1",prenom:"Yolo 2"},{civiliteCode:"MME",email:"contact4@contact.com",id:4,nom:"Contact 4",prenom:"Yolo 42"},{civiliteCode:"MME",email:"contact5@contact.com",id:5,nom:"Contact 5",prenom:"Yolo 36"},{civiliteCode:"MME",email:"contact6@contact.com",id:6,nom:"Contact 6",prenom:"Yolo 25"}])}),250)}))}(0,p.nw)({type:"number",validator:{type:"number",maxDecimals:2,max:100,min:0,errorMessage:"domain.validation.pourcentage"},displayFormatter:function(e){return e&&b()(e).format("0[.0] %")||""}}),(0,p.nw)({type:"string",validator:{type:"string",maxLength:13}});var D=n(44965),M={id:{type:"field",name:"id",domain:C,isRequired:!1,label:"contact.id"},nom:{type:"field",name:"nom",domain:L,isRequired:!0,label:"contact.nom"},prenom:{type:"field",name:"prenom",domain:L,isRequired:!0,label:"contact.prenom"},email:{type:"field",name:"email",domain:R,isRequired:!1,label:"contact.email"},civiliteCode:{type:"field",name:"civiliteCode",domain:g,isRequired:!0,label:"contact.civiliteCode"}},q={id:{type:"field",name:"id",domain:C,isRequired:!1,label:"evenement.id"},date:{type:"field",name:"date",domain:j,isRequired:!0,label:"evenement.date"},commentaire:{type:"field",name:"commentaire",domain:S,isRequired:!0,label:"evenement.commentaire"}},k={id:{type:"field",name:"id",domain:C,isRequired:!1,label:"structure.id"},denominationSociale:{type:"field",name:"denominationSociale",domain:L,isRequired:!0,label:"structure.denominationSociale"},capitalSocial:{type:"field",name:"capitalSocial",domain:P,isRequired:!1,label:"structure.capitalSocial"},isBeneficiaireEffectif:{type:"field",name:"isBeneficiaireEffectif",domain:x,isRequired:!0,label:"structure.isBeneficiaireEffectif"},dateDemande:{type:"field",name:"dateDemande",domain:j,isRequired:!1,label:"structure.dateDemande"},statutJuridiqueCode:{type:"field",name:"statutJuridiqueCode",domain:g,isRequired:!1,label:"structure.statutJuridiqueCode"},adresse:{type:"object",entity:{id:{type:"field",name:"id",domain:C,isRequired:!1,label:"adresse.id"},ligne1:{type:"field",name:"ligne1",domain:L,isRequired:!1,label:"adresse.ligne1"},ligne2:{type:"field",name:"ligne2",domain:L,isRequired:!1,label:"adresse.ligne2"},codePostal:{type:"field",name:"codePostal",domain:g,isRequired:!0,label:"adresse.codePostal"},ville:{type:"field",name:"ville",domain:L,isRequired:!0,label:"adresse.ville"}}}},A={dateCreation:{type:"field",name:"dateCreation",domain:j,isRequired:!0,label:"suivi.dateCreation"},nombreEvenement:{type:"field",name:"nombreEvenement",domain:C,isRequired:!0,label:"suivi.nombreEvenement"},evenementList:{type:"list",entity:q}},O=(0,D.mD)({structure:k,suivi:A,evenement:q,contactList:[M]}),I=(0,D.WQ)((function(e){return new Promise((function(i){setTimeout((function(){i("civilite"===e?[{code:"M",libelle:"Monsieur"},{code:"MME",libelle:"Madame"}]:[{code:"ASSO",libelle:"Association"},{code:"AUTO_ENTR",libelle:"Auto-entrepreneur"},{code:"AUTRES",libelle:"Autres"},{code:"EARL",libelle:"E.A.R.L."},{code:"EIRL",libelle:"E.I.R.L."},{code:"ENTR_INDIV",libelle:"Entrepreneur individuel"},{code:"EURL",libelle:"E.U.R.L."},{code:"GCSMS",libelle:"G.C.S.M.S."},{code:"GIE",libelle:"G.I.E."},{code:"GIP",libelle:"G.I.P."},{code:"SA",libelle:"S.A."},{code:"SARL",libelle:"S.A.R.L."},{code:"SAS",libelle:"S.A.S."},{code:"SASU",libelle:"S.A.S.U."},{code:"SCA",libelle:"S.C.A."},{code:"SCI",libelle:"S.C.I."},{code:"SCM",libelle:"S.C.M."},{code:"SCP",libelle:"S.C.P."},{code:"SCS",libelle:"S.C.S."},{code:"SELARL",libelle:"S.E.L.A.R.L."},{code:"SEM",libelle:"S.E.M."},{code:"SNC",libelle:"S.N.C."}])}),250)}))}),{civilite:{valueKey:"code",labelKey:"libelle",type:{}},statutJuridique:{valueKey:"code",labelKey:"libelle",type:{}}});function N(){var e=(0,p.k$)(O.structure,(function(e){return e.patch("denominationSociale",(function(e,i){return e.domain(S).metadata((function(){return{isRequired:!!i.capitalSocial.value}}))})).patch("capitalSocial",(function(e,i){return e.value((function(){return i.denominationSociale.value&&i.denominationSociale.value.length||0})).metadata({validator:{type:"number",max:2e4}}).edit((function(){return"EARL"!==i.statutJuridiqueCode.value}))})).patch("adresse",(function(e){return e.edit(!1)})).add("email",(function(e,i){return e.domain(L).metadata({label:"structure.email",validator:{type:"email"}}).value((function(){return i.denominationSociale.value}),(function(e){return i.denominationSociale.value=e}))}))})),i=(0,p.zh)(e,(function(e){return e.params((function(){if(!d.N.is((function(e){return e("home")("id")("list")})))return d.N.state.home.id})).load(E).save(w)})),n=e.denominationSociale,r=e.capitalSocial,l=e.email,c=e.statutJuridiqueCode,u=e.adresse;return(0,a.SZ)((function(){return(0,o.jsx)(p.l0,(0,t.pi)({},i.formProps,{labelRatio:40},{children:(0,o.jsxs)(p.s_,(0,t.pi)({title:"form.title"},i.panelProps,{children:[v.Z.t("form.content"),(0,p.RH)(n),(0,p.RH)(l),(0,p.RH)(r),(0,p.OG)(c,I.statutJuridique,{labelRatio:45}),(0,p.RH)(u.codePostal),(0,p.RH)(u.ville)]}),void 0)}),void 0)}))}var Z=n(72881),T=n(88464),Y=n(89526),H=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.magicWord="",i.entity=(0,p.T9)(i,O.contactList,(function(e){return e.edit((function(){return"yolo"===i.magicWord})).items((function(e){return e.edit((function(e){return!!(e.id.value%2)})).patch("nom",(function(e){return e.metadata({isRequired:!1})})).patch("prenom",(function(e,i){return e.metadata((function(){return{isRequired:!!i.nom.value}}))})).add("nomPrenom",(function(e,i){return e.value((function(){return((i.nom.value||"")+" "+(i.prenom.value||"")).trim()})).metadata({label:"contact.nomPrenom"})}))}))})),i.actions=(0,p.PU)(i,i.entity,(function(e){return e.params().load(_)})),i}return(0,t.ZT)(i,e),i.prototype.render=function(){var e=this;return(0,o.jsx)(p.l0,(0,t.pi)({},this.actions.formProps,{children:(0,o.jsxs)(p.s_,(0,t.pi)({title:"Formulaire liste",name:"liste"},this.actions.panelProps,{children:[(0,o.jsx)(m.II,{value:this.magicWord,onChange:function(i){return e.magicWord=i}},void 0),(0,Z.Hw)({data:this.entity,perPage:2,isManualFetch:!0,itemKey:function(e){return e.id.value},LineComponent:J})]}),void 0)}),void 0)},(0,t.gn)([c.LO],i.prototype,"magicWord",void 0),(0,t.gn)([T.Pi],i)}(Y.Component);function J(e){var i=e.data;return(0,a.SZ)((function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h6",{children:i.nomPrenom.value||"Contact"},void 0),(0,p.RH)(i.nom),(0,p.RH)(i.prenom),(0,p.RH)(i.email),(0,p.OG)(i.civiliteCode,I.civilite)]},void 0)}))}function K(e){var i=this,n=e.close,r=(0,p.k$)(O.evenement,(function(e){return e.edit((function(){return!0}))})),l=(0,p.zh)(r,(function(e){return e.save((function(e){return(0,t.mG)(i,void 0,void 0,(function(){return(0,t.Jh)(this,(function(i){return O.suivi.evenementList.pushNode((0,t.pi)((0,t.pi)({},e),{id:Math.random()})),[2]}))}))})).on(["save","cancel"],n)}));return(0,a.SZ)((function(){return(0,o.jsx)(p.l0,(0,t.pi)({},l.formProps,{children:(0,o.jsxs)(p.s_,(0,t.pi)({title:"Ajouter un évènement"},l.panelProps,{children:[(0,p.RH)(r.commentaire),(0,p.RH)(r.date)]}),void 0)}),void 0)}))}var z=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.popinOpened=!1,i}return(0,t.ZT)(i,e),i.prototype.componentWillMount=function(){return(0,t.mG)(this,void 0,void 0,(function(){var e,i;return(0,t.Jh)(this,(function(n){switch(n.label){case 0:return i=(e=O.suivi).replace,[4,new Promise((function(e){setTimeout((function(){e({dateCreation:(new Date).toISOString(),nombreEvenement:3,evenementList:[{id:1,date:new Date(2016,3,1).toISOString(),commentaire:"Ceci est un commentaire"},{id:2,date:new Date(2016,2,1).toISOString(),commentaire:"Ceci est un autre commentaire"},{id:3,date:new Date(2016,1,1).toISOString(),commentaire:"Ceci est un commentaire pas très intéressant"}]})}),250)}))];case 1:return i.apply(e,[n.sent()]),[2]}}))}))},i.prototype.render=function(){var e=this,i=O.suivi,n=i.dateCreation,a=i.nombreEvenement,l=i.evenementList;return(0,o.jsxs)(p.s_,(0,t.pi)({title:"Suivi de la structure"},{children:[(0,p.RH)(n),(0,p.RH)(a),(0,o.jsx)("h4",{children:v.Z.t("suivi.evenement.title")},void 0),(0,o.jsx)(m.zx,{label:"Ajouter un évènement",onClick:function(){return e.popinOpened=!0},icon:"add"},void 0),(0,o.jsx)("br",{},void 0),(0,o.jsx)("br",{},void 0),(0,Z.Hw)({data:l,itemKey:function(e){return e.id.value},LineComponent:(0,T.Pi)((function(e){var i=e.data;return(0,o.jsxs)("span",{children:[(0,D.jX)(i.date)," - ",(0,D.jX)(i.commentaire)]},void 0)}))}),(0,o.jsx)(r.VL,(0,t.pi)({opened:this.popinOpened,closePopin:function(){return e.popinOpened=!1}},{children:(0,o.jsx)(r.VY,{children:(0,o.jsx)(K,{close:function(){return e.popinOpened=!1}},void 0)},void 0)}),void 0)]}),void 0)},(0,t.gn)([c.LO],i.prototype,"popinOpened",void 0),(0,t.gn)([T.Pi],i)}(Y.Component);function F(){return(0,o.jsxs)(r.vE,{children:[(0,o.jsx)(N,{},void 0),(0,o.jsx)(H,{},void 0),(0,o.jsx)(z,{},void 0)]},void 0)}var G=n(13188),W=n(70216),U=n(45703),B=n(75701),V=n.n(B),X=n(54182),$=(V()(X.Z,{insert:"head",singleton:!1}),X.Z.locals||{}),Q=new D.NW;Q.sortBy="nom",Q.isItemSelectionnable=function(e){return!(e.id%2)};var ee=(0,T.Pi)((function(e){var i=e.data,n=e.toggleDetail;return(0,o.jsx)("div",(0,t.pi)({style:{background:"white",padding:"15px 50px"},onClick:function(){return n&&n()}},{children:(0,D.jX)((0,D.P0)(i.civiliteCode),I.civilite)+" "+i.prenom+" "+i.nom+" "+i.email}),void 0)}));function ie(){var e=(0,G.L)({accept:"item",drop:function(e,i){var n=(0,Z.Eb)(i);(0,c.z)((function(){n.forEach((function(e){Q.selectedItems.has(e)&&Q.selectedItems.clear(),Q.list=Q.list.filter((function(i){return i!==e}))}))}))},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),i=e[0],n=i.isOver,r=i.canDrop,a=e[1];return(0,o.jsx)("div",(0,t.pi)({ref:a,style:{width:200,height:200,boxSizing:"border-box",background:r?"yellow":"transparent",borderColor:"black",borderStyle:"dashed",transition:"0.1s all ease-out",borderWidth:n?5:1}},{children:"POUBELLE"}),void 0)}var ne=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return(0,t.ZT)(i,e),i.prototype.componentWillMount=function(){return(0,t.mG)(this,void 0,void 0,(function(){var e;return(0,t.Jh)(this,(function(i){switch(i.label){case 0:return e=Q,[4,_()];case 1:return e.list=i.sent(),[2]}}))}))},i.prototype.render=function(){return(0,o.jsx)(W.W,(0,t.pi)({backend:U.PD},{children:(0,o.jsxs)(r.VY,{children:[(0,o.jsx)(Z.iA,{store:Q,itemKey:function(e){return e.email},hasSelection:!0,columns:[{title:"Nom",content:function(e){return e.nom},sortKey:"nom"},{title:"Prénom",content:function(e){return e.prenom},sortKey:"prenom"},{title:"Email",content:function(e){return e.email}},{title:"Civilité",content:function(e){return(0,D.jX)((0,D.P0)(e.civiliteCode),I.civilite)}}]},void 0),(0,o.jsx)(ie,{},void 0),(0,o.jsx)(Z.ol,{store:Q,hasSelection:!0},void 0),(0,o.jsx)(Z.aV,{store:Q,LineComponent:ee,itemKey:function(e){return e.email},theme:{line:$.line},hasSelection:!0,hasDragAndDrop:!0,DetailComponent:function(e){var i=e.data;return(0,o.jsxs)("h2",{children:[i.nom," ",i.prenom]},void 0)}},void 0),(0,o.jsx)(Z.TY,{data:Q.list,TimelineComponent:ee,dateSelector:function(e){var i=new Date(2020,1,30);return i.setDate(30-e.id),(0,D.P0)(i.toLocaleDateString())},itemKey:function(e){return e.email},addItemHandler:function(){}},void 0)]},void 0)}),void 0)},(0,t.gn)([T.Pi],i)}(Y.Component),te=n(55922),oe=(V()(te.Z,{insert:"head",singleton:!1}),te.Z.locals||{});function re(e){var i=e.router;return(0,a.SZ)((function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s,{cartridge:(0,o.jsx)("h2",{children:"Salut identifiant "+i.state.id},void 0),summary:(0,o.jsx)("strong",{children:"Salut identifiant "+i.state.id},void 0),barRight:(0,o.jsx)(m.zx,{label:"id au hasard",onClick:function(){return i.state.id=Math.floor(100*Math.random())}},void 0)},void 0),(0,o.jsx)(m.zx,{raised:!0,primary:!i.is((function(e){return e("id")("list")})),onClick:function(){return i.to((function(e){return e(i.state.id)}))},label:"Home"},void 0),(0,o.jsx)(m.zx,{raised:!0,primary:i.is((function(e){return e("id")("list")})),onClick:function(){return i.to((function(e){return e(i.state.id)("list")}))},label:"List"},void 0),(0,o.jsx)("strong",(0,t.pi)({className:oe.salut},{children:"Salut identifiant "+i.state.id}),void 0),i.is((function(e){return e("id")("list")}))?(0,o.jsx)(ne,{},void 0):(0,o.jsx)(F,{},void 0)]},void 0)}))}var ae=n(80478),le=(V()(ae.Z,{insert:"head",singleton:!1}),ae.Z.locals||{});(0,l.render)((0,o.jsx)(r.Ar,(0,t.pi)({appTheme:{layout:{layout:le.layout},popin:{popin:le.popin}},menu:(0,o.jsx)((function(){return(0,a.SZ)((function(){return(0,o.jsxs)(r.lb,(0,t.pi)({activeRoute:d.N.get((function(e){return e})),showOverlay:!0},{children:[(0,o.jsx)(r.kl,{icon:"home",onClick:function(){return d.N.to((function(e){var i;return e("home")(null!==(i=d.N.state.home.id)&&void 0!==i?i:1)}))},route:"home"},void 0),(0,o.jsx)(r.kl,{icon:"business",onClick:function(){return d.N.to((function(e){var i;return e("test")(null!==(i=d.N.state.test.lol)&&void 0!==i?i:"salut")}))},route:"test"},void 0),(0,o.jsxs)(r.kl,(0,t.pi)({icon:"add"},{children:[(0,o.jsx)(r.kl,{icon:"home",onClick:function(){return d.N.to((function(e){var i;return e("home")(null!==(i=d.N.state.home.id)&&void 0!==i?i:1)}))},route:"home",label:"Accueil"},void 0),(0,o.jsxs)(r.kl,(0,t.pi)({icon:"add"},{children:[(0,o.jsx)("span",(0,t.pi)({style:{whiteSpace:"pre"}},{children:"Ce sous menu ne sert vraiment à rien"}),void 0),(0,o.jsx)(r.kl,{icon:"business",onClick:function(){return d.N.to((function(e){var i;return e("test")(null!==(i=d.N.state.test.lol)&&void 0!==i?i:"salut")}))},route:"test"},void 0),"YOLO"]}),void 0)]}),void 0)]}),void 0)}))}),{},void 0)},{children:(0,o.jsx)((function(){return(0,a.SZ)((function(){switch(d.N.get((function(e){return e}))){case"home":return(0,o.jsx)(re,{router:d.N.sub((function(e){return e("home")}))},void 0);case"test":return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s,{summary:(0,o.jsx)("strong",{children:"Salut Focus V4"},void 0),cartridge:(0,o.jsx)("h2",{children:"Salut Focus V4"},void 0)},void 0),(0,o.jsxs)("div",{children:['Test Store "',d.N.state.test.lol,'"']},void 0)]},void 0);case void 0:return(0,o.jsx)("div",{children:"déso"},void 0)}}))}),{},void 0)}),void 0),document.getElementById("app"))}}]);