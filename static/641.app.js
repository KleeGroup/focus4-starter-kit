(self.webpackChunkfocus4_starter_kit=self.webpackChunkfocus4_starter_kit||[]).push([[641],{80478:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(60352),r=n.n(i)()(!1);r.push([e.id,".index_layout__25wEL,\n.index_popin__4LRS1 {\n    background: rgb(243, 229, 245);\n}\n",""]),r.locals={layout:"index_layout__25wEL",popin:"index_popin__4LRS1"};const o=r},55922:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(60352),r=n.n(i)()(!1);r.push([e.id,".index_salut__Jz-95 {\n    margin-left: 10px;\n    font-size: 16px;\n}\n",""]),r.locals={salut:"index_salut__Jz-95"};const o=r},54182:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(60352),r=n.n(i)()(!1);r.push([e.id,".list_line__1qL19:not(:last-child) {\n    margin-bottom: 4px;\n}\n",""]),r.locals={line:"list_line__1qL19"};const o=r},91641:(e,t,n)=>{"use strict";n.r(t);var i=n(52263),r=n(25125),o=n(89526),a=n(73961),l=n(83441),c=n(50265),u=(0,c.LO)({canDeploy:!0});function m(e){var t=e.summary,n=e.cartridge,a=e.barRight;return(0,r.SZ)((function(){return o.createElement(i.Pr,{canDeploy:u.canDeploy},o.createElement(i.yV,null,o.createElement(i.SK,null,t),o.createElement(i.h5,null,a)),o.createElement(i.oB,null,n),o.createElement(i.kP,{primary:[{onClick:function(){return u.canDeploy=!u.canDeploy},icon:"radio_button_checked",tooltip:"Toggle le canDeploy"}]}))}))}var d=n(59639),s=n(33940),p=n(44084),f=n(96924),v=n(36105),E=n.n(v),y=n(85803),b=n.n(y);n(63377),E().locale("fr"),b().locale("fr");var h=(0,p.nw)({type:"boolean"}),S=(0,p.nw)({type:"string",inputProps:{multiline:!0,rows:4,maxLength:3e3},validator:{type:"string",maxLength:3e3}}),g=(0,p.nw)({type:"string",inputProps:{maxLength:10},validator:{type:"string",maxLength:10}}),C=(0,p.nw)({type:"string",validator:{type:"date"},InputComponent:p.U7,displayFormatter:function(e){return e?E()(e,E().ISO_8601).format("DD/MM/YYYY"):""},inputProps:{inputFormat:"DD/MM/YYYY"}}),R=(0,p.nw)({type:"number"}),L=(0,p.nw)({type:"string",validator:{type:"email"}}),P=(0,p.nw)({type:"string",inputProps:{maxLength:100},validator:{type:"string",maxLength:100}}),w=(0,p.nw)({type:"number",validator:{type:"number",maxDecimals:2,errorMessage:"domain.validation.montant"},displayFormatter:function(e){return e&&b()(e).format("0,0.00 $")||""},inputProps:{hasThousandsSeparator:!0,maxDecimals:2}});function _(e){return new Promise((function(t){setTimeout((function(){t({id:e,denominationSociale:"Ma structure "+(e||""),capitalSocial:14503.32,isBeneficiaireEffectif:!0,dateDemande:new Date(2016,4,23).toISOString(),statutJuridiqueCode:"SARL",adresse:{id:1,ligne1:"13 rue",codePostal:"75016",ville:"Paris"}})}),250)}))}function D(e){return new Promise((function(t){setTimeout((function(){t(e)}),250)}))}function M(){return new Promise((function(e){setTimeout((function(){e([{civiliteCode:"MME",email:"contact1@contact.com",id:1,nom:"Contact 2",prenom:"Yolo 3"},{civiliteCode:"M",email:"contact2@contact.com",id:2,nom:"Contact 3",prenom:"Yolo 1"},{civiliteCode:"MME",email:"contact3@contact.com",id:3,nom:"Contact 1",prenom:"Yolo 2"},{civiliteCode:"MME",email:"contact4@contact.com",id:4,nom:"Contact 4",prenom:"Yolo 42"},{civiliteCode:"MME",email:"contact5@contact.com",id:5,nom:"Contact 5",prenom:"Yolo 36"},{civiliteCode:"MME",email:"contact6@contact.com",id:6,nom:"Contact 6",prenom:"Yolo 25"}])}),250)}))}(0,p.nw)({type:"number",validator:{type:"number",maxDecimals:2,max:100,min:0,errorMessage:"domain.validation.pourcentage"},displayFormatter:function(e){return e&&b()(e).format("0[.0] %")||""}}),(0,p.nw)({type:"string",validator:{type:"string",maxLength:13}});var q=n(44965),k={id:{type:"field",name:"id",domain:R,isRequired:!1,label:"contact.id"},nom:{type:"field",name:"nom",domain:P,isRequired:!0,label:"contact.nom"},prenom:{type:"field",name:"prenom",domain:P,isRequired:!0,label:"contact.prenom"},email:{type:"field",name:"email",domain:L,isRequired:!1,label:"contact.email"},civiliteCode:{type:"field",name:"civiliteCode",domain:g,isRequired:!0,label:"contact.civiliteCode"}},x={id:{type:"field",name:"id",domain:R,isRequired:!1,label:"evenement.id"},date:{type:"field",name:"date",domain:C,isRequired:!0,label:"evenement.date"},commentaire:{type:"field",name:"commentaire",domain:S,isRequired:!0,label:"evenement.commentaire"}},A={id:{type:"field",name:"id",domain:R,isRequired:!1,label:"structure.id"},denominationSociale:{type:"field",name:"denominationSociale",domain:P,isRequired:!0,label:"structure.denominationSociale"},capitalSocial:{type:"field",name:"capitalSocial",domain:w,isRequired:!1,label:"structure.capitalSocial"},isBeneficiaireEffectif:{type:"field",name:"isBeneficiaireEffectif",domain:h,isRequired:!0,label:"structure.isBeneficiaireEffectif"},dateDemande:{type:"field",name:"dateDemande",domain:C,isRequired:!1,label:"structure.dateDemande"},statutJuridiqueCode:{type:"field",name:"statutJuridiqueCode",domain:g,isRequired:!1,label:"structure.statutJuridiqueCode"},adresse:{type:"object",entity:{id:{type:"field",name:"id",domain:R,isRequired:!1,label:"adresse.id"},ligne1:{type:"field",name:"ligne1",domain:P,isRequired:!1,label:"adresse.ligne1"},ligne2:{type:"field",name:"ligne2",domain:P,isRequired:!1,label:"adresse.ligne2"},codePostal:{type:"field",name:"codePostal",domain:g,isRequired:!0,label:"adresse.codePostal"},ville:{type:"field",name:"ville",domain:P,isRequired:!0,label:"adresse.ville"}}}},O={dateCreation:{type:"field",name:"dateCreation",domain:C,isRequired:!0,label:"suivi.dateCreation"},nombreEvenement:{type:"field",name:"nombreEvenement",domain:R,isRequired:!0,label:"suivi.nombreEvenement"},evenementList:{type:"list",entity:x}},I=(0,q.mD)({structure:A,suivi:O,evenement:x,contactList:[k]}),N=(0,q.WQ)((function(e){return new Promise((function(t){setTimeout((function(){t("civilite"===e?[{code:"M",libelle:"Monsieur"},{code:"MME",libelle:"Madame"}]:[{code:"ASSO",libelle:"Association"},{code:"AUTO_ENTR",libelle:"Auto-entrepreneur"},{code:"AUTRES",libelle:"Autres"},{code:"EARL",libelle:"E.A.R.L."},{code:"EIRL",libelle:"E.I.R.L."},{code:"ENTR_INDIV",libelle:"Entrepreneur individuel"},{code:"EURL",libelle:"E.U.R.L."},{code:"GCSMS",libelle:"G.C.S.M.S."},{code:"GIE",libelle:"G.I.E."},{code:"GIP",libelle:"G.I.P."},{code:"SA",libelle:"S.A."},{code:"SARL",libelle:"S.A.R.L."},{code:"SAS",libelle:"S.A.S."},{code:"SASU",libelle:"S.A.S.U."},{code:"SCA",libelle:"S.C.A."},{code:"SCI",libelle:"S.C.I."},{code:"SCM",libelle:"S.C.M."},{code:"SCP",libelle:"S.C.P."},{code:"SCS",libelle:"S.C.S."},{code:"SELARL",libelle:"S.E.L.A.R.L."},{code:"SEM",libelle:"S.E.M."},{code:"SNC",libelle:"S.N.C."}])}),250)}))}),{civilite:{valueKey:"code",labelKey:"libelle",type:{}},statutJuridique:{valueKey:"code",labelKey:"libelle",type:{}}});function Z(){var e=(0,p.k$)(I.structure,(function(e){return e.patch("denominationSociale",(function(e,t){return e.domain(S).metadata((function(){return{isRequired:!!t.capitalSocial.value}}))})).patch("capitalSocial",(function(e,t){return e.value((function(){return t.denominationSociale.value&&t.denominationSociale.value.length||0})).metadata({validator:{type:"number",max:2e4}}).edit((function(){return"EARL"!==t.statutJuridiqueCode.value}))})).patch("adresse",(function(e){return e.edit(!1)})).add("email",(function(e,t){return e.domain(P).metadata({label:"structure.email",validator:{type:"email"}}).value((function(){return t.denominationSociale.value}),(function(e){return t.denominationSociale.value=e}))}))})),t=(0,p.zh)(e,(function(e){return e.params((function(){if(!l.N.is((function(e){return e("home")("id")("list")})))return l.N.state.home.id})).load(_).save(D)})),n=e.denominationSociale,i=e.capitalSocial,a=e.email,c=e.statutJuridiqueCode,u=e.adresse;return(0,r.SZ)((function(){return o.createElement(p.l0,(0,s.pi)({},t.formProps,{labelRatio:40}),o.createElement(p.s_,(0,s.pi)({title:"form.title"},t.panelProps),f.Z.t("form.content"),(0,p.RH)(n),(0,p.RH)(a),(0,p.RH)(i),(0,p.OG)(c,N.statutJuridique,{labelRatio:45}),(0,p.RH)(u.codePostal),(0,p.RH)(u.ville)))}))}var T=n(26511),Y=n(88464),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.magicWord="",t.entity=(0,p.T9)(t,I.contactList,(function(e){return e.edit((function(){return"yolo"===t.magicWord})).items((function(e){return e.edit((function(e){return!!(e.id.value%2)})).patch("nom",(function(e){return e.metadata({isRequired:!1})})).patch("prenom",(function(e,t){return e.metadata((function(){return{isRequired:!!t.nom.value}}))})).add("nomPrenom",(function(e,t){return e.value((function(){return((t.nom.value||"")+" "+(t.prenom.value||"")).trim()})).metadata({label:"contact.nomPrenom"})}))}))})),t.actions=(0,p.PU)(t,t.entity,(function(e){return e.params().load(M)})),t}return(0,s.ZT)(t,e),t.prototype.render=function(){var e=this;return o.createElement(p.l0,(0,s.pi)({},this.actions.formProps),o.createElement(p.s_,(0,s.pi)({title:"Formulaire liste",name:"liste"},this.actions.panelProps),o.createElement(d.II,{value:this.magicWord,onChange:function(t){return e.magicWord=t}}),(0,T.Hw)({data:this.entity,perPage:2,isManualFetch:!0,itemKey:function(e){return e.id.value},LineComponent:J})))},(0,s.gn)([c.LO],t.prototype,"magicWord",void 0),(0,s.gn)([Y.Pi],t)}(o.Component);function J(e){var t=e.data;return(0,r.SZ)((function(){return o.createElement(o.Fragment,null,o.createElement("h6",null,t.nomPrenom.value||"Contact"),(0,p.RH)(t.nom),(0,p.RH)(t.prenom),(0,p.RH)(t.email),(0,p.OG)(t.civiliteCode,N.civilite))}))}function K(e){var t=this,n=e.close,i=(0,p.k$)(I.evenement,(function(e){return e.edit((function(){return!0}))})),a=(0,p.zh)(i,(function(e){return e.save((function(e){return(0,s.mG)(t,void 0,void 0,(function(){return(0,s.Jh)(this,(function(t){return I.suivi.evenementList.pushNode((0,s.pi)((0,s.pi)({},e),{id:Math.random()})),[2]}))}))})).on(["save","cancel"],n)}));return(0,r.SZ)((function(){return o.createElement(p.l0,(0,s.pi)({},a.formProps),o.createElement(p.s_,(0,s.pi)({title:"Ajouter un évènement"},a.panelProps),(0,p.RH)(i.commentaire),(0,p.RH)(i.date)))}))}var z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.popinOpened=!1,t}return(0,s.ZT)(t,e),t.prototype.componentWillMount=function(){return(0,s.mG)(this,void 0,void 0,(function(){var e,t;return(0,s.Jh)(this,(function(n){switch(n.label){case 0:return t=(e=I.suivi).replace,[4,new Promise((function(e){setTimeout((function(){e({dateCreation:(new Date).toISOString(),nombreEvenement:3,evenementList:[{id:1,date:new Date(2016,3,1).toISOString(),commentaire:"Ceci est un commentaire"},{id:2,date:new Date(2016,2,1).toISOString(),commentaire:"Ceci est un autre commentaire"},{id:3,date:new Date(2016,1,1).toISOString(),commentaire:"Ceci est un commentaire pas très intéressant"}]})}),250)}))];case 1:return t.apply(e,[n.sent()]),[2]}}))}))},t.prototype.render=function(){var e=this,t=I.suivi,n=t.dateCreation,r=t.nombreEvenement,a=t.evenementList;return o.createElement(p.s_,{title:"Suivi de la structure"},(0,p.RH)(n),(0,p.RH)(r),o.createElement("h4",null,f.Z.t("suivi.evenement.title")),o.createElement(d.zx,{label:"Ajouter un évènement",onClick:function(){return e.popinOpened=!0},icon:"add"}),o.createElement("br",null),o.createElement("br",null),(0,T.Hw)({data:a,itemKey:function(e){return e.id.value},LineComponent:(0,Y.Pi)((function(e){var t=e.data;return o.createElement("span",null,(0,q.jX)(t.date)," - ",(0,q.jX)(t.commentaire))}))}),o.createElement(i.VL,{opened:this.popinOpened,closePopin:function(){return e.popinOpened=!1}},o.createElement(i.VY,null,o.createElement(K,{close:function(){return e.popinOpened=!1}}))))},(0,s.gn)([c.LO],t.prototype,"popinOpened",void 0),(0,s.gn)([Y.Pi],t)}(o.Component);function F(){return o.createElement(i.vE,null,o.createElement(Z,null),o.createElement(H,null),o.createElement(z,null))}var G=n(12220),W=n(38594),U=n(45703),B=n(75701),V=n.n(B),j=n(54182);V()(j.Z,{insert:"head",singleton:!1});const X=j.Z.locals||{};var $=new q.NW;$.sortBy="nom",$.isItemSelectionnable=function(e){return!(e.id%2)};var Q=(0,Y.Pi)((function(e){var t=e.data,n=e.toggleDetail;return o.createElement("div",{style:{background:"white",padding:"15px 50px"},onClick:function(){return n&&n()}},(0,q.jX)((0,q.P0)(t.civiliteCode),N.civilite)+" "+t.prenom+" "+t.nom+" "+t.email)}));function ee(){var e=(0,G.useDrop)({accept:"item",drop:function(e,t){var n=(0,T.Eb)(t);(0,c.z)((function(){n.forEach((function(e){$.selectedItems.has(e)&&$.selectedItems.clear(),$.list=$.list.filter((function(t){return t!==e}))}))}))},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),t=e[0],n=t.isOver,i=t.canDrop,r=e[1];return o.createElement("div",{ref:r,style:{width:200,height:200,boxSizing:"border-box",background:i?"yellow":"transparent",borderColor:"black",borderStyle:"dashed",transition:"0.1s all ease-out",borderWidth:n?5:1}},"POUBELLE")}var te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,s.ZT)(t,e),t.prototype.componentWillMount=function(){return(0,s.mG)(this,void 0,void 0,(function(){var e;return(0,s.Jh)(this,(function(t){switch(t.label){case 0:return e=$,[4,M()];case 1:return e.list=t.sent(),[2]}}))}))},t.prototype.render=function(){return o.createElement(W.W,{backend:U.PD},o.createElement(i.VY,null,o.createElement(T.iA,{store:$,itemKey:function(e){return e.email},hasSelection:!0,columns:[{title:"Nom",content:function(e){return e.nom},sortKey:"nom"},{title:"Prénom",content:function(e){return e.prenom},sortKey:"prenom"},{title:"Email",content:function(e){return e.email}},{title:"Civilité",content:function(e){return(0,q.jX)((0,q.P0)(e.civiliteCode),N.civilite)}}]}),o.createElement(ee,null),o.createElement(T.ol,{store:$,hasSelection:!0}),o.createElement(T.aV,{store:$,LineComponent:Q,itemKey:function(e){return e.email},theme:{line:X.line},hasSelection:!0,hasDragAndDrop:!0,DetailComponent:function(e){var t=e.data;return o.createElement("h2",null,t.nom," ",t.prenom)}}),o.createElement(T.TY,{data:$.list,TimelineComponent:Q,dateSelector:function(e){var t=new Date(2020,1,30);return t.setDate(30-e.id),(0,q.P0)(t.toLocaleDateString())},itemKey:function(e){return e.email},addItemHandler:function(){}})))},(0,s.gn)([Y.Pi],t)}(o.Component),ne=n(55922);V()(ne.Z,{insert:"head",singleton:!1});const ie=ne.Z.locals||{};function re(e){var t=e.router;return(0,r.SZ)((function(){return o.createElement(o.Fragment,null,o.createElement(m,{cartridge:o.createElement("h2",null,"Salut identifiant "+t.state.id),summary:o.createElement("strong",null,"Salut identifiant "+t.state.id),barRight:o.createElement(d.zx,{label:"id au hasard",onClick:function(){return t.state.id=Math.floor(100*Math.random())}})}),o.createElement(d.zx,{raised:!0,primary:!t.is((function(e){return e("id")("list")})),onClick:function(){return t.to((function(e){return e(t.state.id)}))},label:"Home"}),o.createElement(d.zx,{raised:!0,primary:t.is((function(e){return e("id")("list")})),onClick:function(){return t.to((function(e){return e(t.state.id)("list")}))},label:"List"}),o.createElement("strong",{className:ie.salut},"Salut identifiant "+t.state.id),t.is((function(e){return e("id")("list")}))?o.createElement(te,null):o.createElement(F,null))}))}var oe=n(80478);V()(oe.Z,{insert:"head",singleton:!1});const ae=oe.Z.locals||{};(0,a.render)(o.createElement(i.Ar,{appTheme:{layout:{layout:ae.layout},popin:{popin:ae.popin}},menu:o.createElement((function(){return(0,r.SZ)((function(){return o.createElement(i.lb,{activeRoute:l.N.get((function(e){return e})),showOverlay:!0},o.createElement(i.kl,{icon:"home",onClick:function(){return l.N.to((function(e){var t;return e("home")(null!==(t=l.N.state.home.id)&&void 0!==t?t:1)}))},route:"home"}),o.createElement(i.kl,{icon:"business",onClick:function(){return l.N.to((function(e){var t;return e("test")(null!==(t=l.N.state.test.lol)&&void 0!==t?t:"salut")}))},route:"test"}),o.createElement(i.kl,{icon:"add"},o.createElement(i.kl,{icon:"home",onClick:function(){return l.N.to((function(e){var t;return e("home")(null!==(t=l.N.state.home.id)&&void 0!==t?t:1)}))},route:"home",label:"Accueil"}),o.createElement(i.kl,{icon:"add"},o.createElement("span",{style:{whiteSpace:"pre"}},"Ce sous menu ne sert vraiment à rien"),o.createElement(i.kl,{icon:"business",onClick:function(){return l.N.to((function(e){var t;return e("test")(null!==(t=l.N.state.test.lol)&&void 0!==t?t:"salut")}))},route:"test"}),"YOLO")))}))}),null)},o.createElement((function(){return(0,r.SZ)((function(){switch(l.N.get((function(e){return e}))){case"home":return o.createElement(re,{router:l.N.sub((function(e){return e("home")}))});case"test":return o.createElement(o.Fragment,null,o.createElement(m,{summary:o.createElement("strong",null,"Salut Focus V4"),cartridge:o.createElement("h2",null,"Salut Focus V4")}),o.createElement("div",null,'Test Store "',l.N.state.test.lol,'"'));case void 0:return o.createElement("div",null,"déso")}}))}),null)),document.getElementById("app"))}}]);